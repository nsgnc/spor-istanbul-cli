package client

import (
	"bytes"
	"io"
	"net/http"
	"net/url"
)

func (c *Client) GetSessions(sessionPostId string) *bytes.Buffer {
	formData := url.Values{}
	formData.Set("__EVENTTARGET", sessionPostId)
	formData.Set("__VIEWSTATE", "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")

	resp, _ := c.HttpClient.PostForm(c.BaseURL+"/uyespor", formData)

	defer resp.Body.Close()

	buffer := bytes.NewBuffer(nil)
	_, err := io.Copy(buffer, resp.Body)
	if err != nil {
		panic("error while copying the buffer")
	}
	return buffer
}

func (c *Client) GetSubscriptionsPage() *bytes.Buffer {
	req, _ := http.NewRequest(http.MethodGet, BASE_URL+SUBSCRIPTIONS_LIST_URL, nil)

	resp, _ := c.HttpClient.Do(req)

	defer resp.Body.Close()

	buffer := bytes.NewBuffer(nil)
	_, err := io.Copy(buffer, resp.Body)

	if err != nil {
		panic("error while copying the buffer")
	}

	return buffer
}
